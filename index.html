<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, user-scalable=no" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/highcharts/6.1.2/highcharts.js"></script>

<style>
#board {
    width: 100%;
    height: 400px;
    background-color: lightblue;
}

.img {
    height: 300px;
}
</style>

<div id="board">
    <img id="3d" class='img' src="./media/adam_3d/5.jpg" alt="">
    <img id="vid" class='img' src="./media/adam_video/5.jpg" alt="">
    <div id="chart"></div>
    <div class="sliderbox">
        <input type="range" min="5" max="970" step="5" value="5" class="slide" id="slider">
    </div>
</div>

<script>

function isEventSupported(eventName) {
    var el = document.createElement('div');
    eventName = 'on' + eventName;
    var isSupported = (eventName in el);
    if (!isSupported) {
        el.setAttribute(eventName, 'return;');
        isSupported = typeof el[eventName] == 'function';
    }
    el = null;
    return isSupported;
};

var chart = Highcharts.chart('chart', {
    title: {
        text: 'Vzdálenost těžiště lezce od stěny'
    },
    credits: {
        enabled: false
    },
    xAxis: {
        plotLines: [{
            color: 'red',
            value: 0.05,
            width: 2
        }],
    },
    yAxis: {
        title: {
            text: 'vzdálenost v metrech'
        }
    },
    legend: {
        layout: 'vertical',
        align: 'right',
        verticalAlign: 'middle'
    },

    plotOptions: {
        series: {
            enableMouseTracking: false,
            label: {
                connectorAllowed: false
            },
            pointStart: 0.05,
            pointInterval: 0.01
        }
    },
    legend: {
            enabled: false
    },
    series: [{
        name: 'teziste',
        data: [0.4987435, 0.49721667, 0.4957006, 0.49402553, 0.49218324, 0.49024647, 0.48831558, 0.48648646, 0.48483434, 0.48340932, 0.48223379, 0.48130167, 0.48058352, 0.48004085, 0.47963846, 0.47934639, 0.47913936, 0.47899839, 0.47891486, 0.47889107, 0.47893909, 0.47907966, 0.47933847, 0.47973689, 0.4802812, 0.48095965, 0.48174912, 0.48262697, 0.48357818, 0.48459408, 0.48566625, 0.48678389, 0.48793566, 0.48911503, 0.49032447, 0.49157593, 0.49288818, 0.49428207, 0.49577764, 0.49739429, 0.49915129, 0.50106603, 0.50315046, 0.5054068, 0.50782365, 0.5103727, 0.51300961, 0.51568198, 0.5183422, 0.52095664, 0.52350897, 0.5259977, 0.52843243, 0.53082621, 0.53318602, 0.53550941, 0.5377878, 0.54001421, 0.54218918, 0.54432148, 0.54642397, 0.54850459, 0.55055887, 0.55256945, 0.55451691, 0.55639619, 0.55822653, 0.56004858, 0.56191021, 0.56384993, 0.5658834, 0.56799662, 0.57014871, 0.57228637, 0.57436341, 0.5763582, 0.57827938, 0.58016086, 0.58205152, 0.58400273, 0.58605951, 0.58825094, 0.59058338, 0.59303892, 0.5955795, 0.59815681, 0.60072029, 0.60322183, 0.60561979, 0.60788661, 0.61001617, 0.61202502, 0.61394256, 0.61579359, 0.61758566, 0.61930764, 0.62093896, 0.62246072, 0.62386119, 0.62513554, 0.62628412, 0.62731069, 0.6282208, 0.62902105, 0.62971789, 0.63031775, 0.63082612, 0.63124287, 0.63156033, 0.63176507, 0.63184452, 0.63179553, 0.63162792, 0.63136142, 0.63101572, 0.63060397, 0.6301282, 0.62958211, 0.62895221, 0.62822264, 0.62738216, 0.62643433, 0.62540215, 0.62432516, 0.62324977, 0.62221831, 0.6212638, 0.6204074, 0.6196593, 0.61901814, 0.61847317, 0.61800712, 0.61760122, 0.6172362, 0.61689425, 0.61656064, 0.61622614, 0.61588931, 0.61555499, 0.61523241, 0.6149298, 0.61465114, 0.61439389, 0.61414993, 0.61390829, 0.6136592, 0.61339581, 0.61311454, 0.61281306, 0.61248922, 0.61214077, 0.61176717, 0.61137104, 0.6109581, 0.61053795, 0.61012208, 0.609721, 0.60934007, 0.60897774, 0.60862666, 0.60827839, 0.60792893, 0.60758072, 0.60724187, 0.6069243, 0.60664052, 0.6064015, 0.6062122, 0.60606921, 0.60595971, 0.6058647, 0.6057623, 0.60563266, 0.60546279, 0.60525, 0.60500389, 0.6047439, 0.60449404, 0.60427523, 0.60409939, 0.603966, 0.60386425, 0.60377848, 0.60369617, 0.60361457, 0.60354412, 0.60350585, 0.60352373, 0.60361487, 0.60378194, 0.60401255, 0.60428333, 0.6045689, 0.60484999, 0.60511869, 0.60537994, 0.60564661, 0.60593563, 0.60626149, 0.60663533, 0.60706276, 0.60754573, 0.60808194, 0.60866636, 0.60929108, 0.60994524, 0.61061603, 0.61128992, 0.61195523, 0.61260229, 0.61322421, 0.61381686, 0.61437923, 0.61491489, 0.61543071, 0.61593652, 0.61644071, 0.61694735, 0.61745292, 0.61794454, 0.61840206, 0.61880082, 0.61911678, 0.61933172, 0.61943716, 0.61943638, 0.61934251, 0.61917412, 0.61894912, 0.61867934, 0.61836898, 0.61801654, 0.6176185, 0.61717492, 0.61669022, 0.61617339, 0.61563635, 0.61509097, 0.61454815, 0.61401701, 0.61350465, 0.61301547, 0.61255115, 0.61211032, 0.61168838, 0.61127943, 0.61087745, 0.6104784, 0.61008132, 0.6096893, 0.60930735, 0.60894161, 0.60859668, 0.60827506, 0.60797787, 0.60770708, 0.60746837, 0.60727233, 0.60713464, 0.60707396, 0.60710931, 0.60725707, 0.60752976, 0.60793424, 0.60847187, 0.60913748, 0.6099202, 0.61080515, 0.61177617, 0.61281908, 0.61392432, 0.61508715, 0.6163066, 0.61758256, 0.61891305, 0.62029296, 0.62171328, 0.62316298, 0.62463218, 0.62611496, 0.62761211, 0.62913102, 0.63068271, 0.63227761, 0.63392204, 0.63561791, 0.63736349, 0.6391505, 0.64095867, 0.64275146, 0.64447933, 0.64609438, 0.64756685, 0.64889717, 0.65011525, 0.65126783, 0.65240157, 0.65354937, 0.65472418, 0.6559189, 0.65711027, 0.65826583, 0.65935129, 0.66033953, 0.66121602, 0.66198218, 0.66265249, 0.66324753, 0.66378647, 0.66428173, 0.66473949, 0.66516316, 0.66555476, 0.66591626, 0.66624868, 0.6665501, 0.66681498, 0.66703612, 0.6672067, 0.66732109, 0.66737628, 0.66737324, 0.6673187, 0.66722244, 0.66709495, 0.66694498, 0.6667785, 0.66659814, 0.66640496, 0.6662029, 0.6659981, 0.66579241, 0.66557884, 0.66534495, 0.6650809, 0.66478103, 0.66443974, 0.66404605, 0.66358626, 0.66305113, 0.66244125, 0.66177028, 0.66106224, 0.66034514, 0.65964288, 0.65897149, 0.65833849, 0.6577425, 0.65717304, 0.6566118, 0.65603966, 0.65544319, 0.65481842, 0.65416926, 0.65350652, 0.65284759, 0.65221536, 0.65163422, 0.65112281, 0.65068859, 0.65032834, 0.6500324, 0.64979094, 0.64959812, 0.64945275, 0.64935523, 0.64930266, 0.64928573, 0.64929014, 0.64930171, 0.64931142, 0.64931554, 0.64931363, 0.64930534, 0.64928871, 0.64926249, 0.64922708, 0.64918637, 0.64914834, 0.64912266, 0.64912099, 0.64915442, 0.6492331, 0.64936429, 0.64955163, 0.64979464, 0.65008831, 0.65042371, 0.65078872, 0.65116906, 0.6515497, 0.65191686, 0.65225786, 0.65256232, 0.65282148, 0.65302765, 0.65317464, 0.65325916, 0.65328306, 0.65325469, 0.65318763, 0.6530959, 0.65298963, 0.65287143, 0.65273392, 0.65255916, 0.65232182, 0.65199614, 0.65156519, 0.65102971, 0.65040916, 0.64973217, 0.64902169, 0.64828056, 0.64749169, 0.64662594, 0.64565986, 0.64458877, 0.64343011, 0.6422134, 0.64096355, 0.63969058, 0.63838971, 0.63704991, 0.6356622, 0.6342169, 0.63269705, 0.63107646, 0.62932926, 0.62743926, 0.62540269, 0.62322044, 0.62089694, 0.61844236, 0.61587363, 0.61320955, 0.61046404, 0.60764474, 0.60475594, 0.60179687, 0.59875375, 0.59559089, 0.59224963, 0.58865732, 0.58473873, 0.58043361, 0.57571715, 0.57061452, 0.56520271, 0.55959666, 0.5539282, 0.54832047, 0.54286581, 0.53761536, 0.5325796, 0.5277369, 0.52304703, 0.5184657, 0.51395661, 0.50949502, 0.50506288, 0.50064051, 0.49619985, 0.49170893, 0.48714119, 0.48248363, 0.47773668, 0.47290799, 0.4680078, 0.46304783, 0.45804074, 0.45299801, 0.44792742, 0.4428336, 0.43771964, 0.43258935, 0.42745021, 0.42231664, 0.4172093, 0.41214925, 0.40715164, 0.40222299, 0.39736223, 0.39256817, 0.38784763, 0.38321781, 0.37869999, 0.37431106, 0.37006035, 0.36594999, 0.36197495, 0.35812473, 0.35438916, 0.35076788, 0.34727579, 0.34394172, 0.34080029, 0.33788082, 0.33519852, 0.33275029, 0.33051589, 0.3284623, 0.32654968, 0.32473716, 0.32298785, 0.32127142, 0.31956393, 0.31784627, 0.31610388, 0.31432679, 0.31251153, 0.3106645, 0.30880478, 0.30696374, 0.30518058, 0.30349559, 0.30194259, 0.30054405, 0.2993108, 0.29824597, 0.29735041, 0.29662654, 0.29607797, 0.29570541, 0.29550198, 0.2954503, 0.29552281, 0.29568562, 0.29590425, 0.29614836, 0.29639474, 0.29662776, 0.29683754, 0.29701713, 0.29715997, 0.29725838, 0.29730403, 0.29728818, 0.29720303, 0.29704228, 0.2968021, 0.29648238, 0.29608929, 0.29563636, 0.29514468, 0.29464015, 0.29414955, 0.29369581, 0.29329512, 0.29295459, 0.29267275, 0.29244131, 0.29224843, 0.2920824, 0.29193443, 0.29180014, 0.29167899, 0.29157245, 0.29148251, 0.2914106, 0.29135779, 0.2913256, 0.29131642, 0.29133362, 0.2913813, 0.29146376, 0.29158384, 0.29174197, 0.2919355, 0.2921592, 0.29240614, 0.29266936, 0.29294291, 0.29322225, 0.2935043, 0.29378682, 0.29406816, 0.29434717, 0.29462314, 0.29489607, 0.29516631, 0.29543498, 0.29570353, 0.29597384, 0.29624772, 0.29652649, 0.2968103, 0.29709819, 0.29738876, 0.29768196, 0.2979807, 0.298291, 0.29862034, 0.29897454, 0.2993544, 0.29975346, 0.30015826, 0.30055094, 0.30091286, 0.30122793, 0.30148444, 0.30167598, 0.30180249, 0.30187014, 0.30189037, 0.30187878, 0.30185306, 0.30183083, 0.30182737, 0.30185294, 0.30190948, 0.30198714, 0.3020618, 0.30209452, 0.30203441, 0.3018254, 0.30141804, 0.3007859, 0.29993877, 0.29892647, 0.2978307, 0.29674852, 0.29577515, 0.29499221, 0.29446444, 0.29424021, 0.29434752, 0.29478139, 0.2954936, 0.29639462, 0.29737109, 0.29831204, 0.29913315, 0.29979074, 0.30028012, 0.30062297, 0.30085215, 0.30100149, 0.30110052, 0.30117294, 0.30123737, 0.30130816, 0.30139631, 0.30150938, 0.30165175, 0.30182475, 0.3020269, 0.30225357, 0.3024976, 0.30275023, 0.3030026, 0.30324626, 0.30347452, 0.30368325, 0.30387211, 0.30404443, 0.30420604, 0.30436391, 0.30452409, 0.30469134, 0.3048687, 0.30505723, 0.30525583, 0.30546156, 0.30567026, 0.30587757, 0.30608061, 0.3062796, 0.30647829, 0.30668411, 0.30690703, 0.30715844, 0.30744916, 0.3077876, 0.30817816, 0.3086212, 0.30911425, 0.30965433, 0.31023902, 0.31086621, 0.31153277, 0.31223291, 0.31295767, 0.31369489, 0.31443167, 0.31515628, 0.31585988, 0.31653762, 0.31718794, 0.31781161, 0.31840935, 0.31898052, 0.31952211, 0.32002982, 0.32049921, 0.32092747, 0.32131404, 0.32166049, 0.32196876, 0.32223979, 0.32247317, 0.32266751, 0.32282224, 0.32293877, 0.32302204, 0.32308176, 0.32313126, 0.32318625, 0.32326227, 0.32337189, 0.32352298, 0.32371756, 0.32395267, 0.32422218, 0.32451779, 0.32483175, 0.32515776, 0.32549202, 0.32583356, 0.32618311, 0.32654226, 0.32691222, 0.32729346, 0.32768503, 0.32808524, 0.32849264, 0.3289068, 0.32932895, 0.32976061, 0.33020276, 0.3306548, 0.33111513, 0.33158064, 0.3320477, 0.33251211, 0.33296889, 0.33341196, 0.33383426, 0.33422837, 0.33458722, 0.33490494, 0.33517823, 0.33540741, 0.33559781, 0.33575863, 0.33590034, 0.33603084, 0.33615237, 0.33626038, 0.33634511, 0.33639517, 0.3364011, 0.33635828, 0.33626917, 0.33614331, 0.33599627, 0.3358472, 0.33571574, 0.33561808, 0.33556485, 0.3355605, 0.33560511, 0.3356972, 0.33583549, 0.3360188, 0.33624527, 0.33651105, 0.33680987, 0.33713326, 0.33747175, 0.33781579, 0.33815694, 0.33848903, 0.33880925, 0.33911842, 0.33941963, 0.33971688, 0.34001368, 0.3403123, 0.34061265, 0.34091324, 0.34121126, 0.34150448, 0.34179211, 0.34207511, 0.34235623, 0.34263963, 0.34293041, 0.34323412, 0.34355578, 0.34389868, 0.3442632, 0.34464678, 0.34504449, 0.34544957, 0.34585533, 0.34625646, 0.34665018, 0.34703639, 0.34741664, 0.34779301, 0.34816778, 0.34854218, 0.34891596, 0.34928614, 0.34964615, 0.34998569, 0.35029233, 0.35055378, 0.35076192, 0.35091451, 0.35101545, 0.35107312, 0.35109732, 0.35109633, 0.35107604, 0.35103908, 0.35098556, 0.35091433, 0.35082373, 0.35071239, 0.35057899, 0.35042226, 0.3502413, 0.35003582, 0.34980661, 0.3495557, 0.34928605, 0.34900111, 0.3487047, 0.3484008, 0.34809309, 0.34778473, 0.34747779, 0.34717336, 0.34687147, 0.34657222, 0.34627685, 0.3459875, 0.34570602, 0.34543231, 0.34516302, 0.34489268, 0.34461597, 0.34433088, 0.34404117, 0.34375572, 0.34348643, 0.34324574, 0.34304428, 0.34288982, 0.34278768, 0.34274113, 0.3427515, 0.3428182, 0.34293839, 0.34310737, 0.34331909, 0.34356761, 0.34384704, 0.34415135, 0.34447315, 0.34480223, 0.34512541, 0.34542802, 0.34569687, 0.34592336, 0.34610516, 0.34624556, 0.34635174, 0.34643254, 0.34649613, 0.34654859, 0.34659341, 0.34663209, 0.34666494, 0.34669116, 0.34670898, 0.34671611, 0.34671059, 0.34669253, 0.34666514, 0.34663445, 0.34660786, 0.3465924, 0.34659371, 0.34661534, 0.34665841, 0.34672198, 0.34680405, 0.34690133, 0.34700873, 0.34711942, 0.34722483, 0.34731573, 0.34738296, 0.34741899, 0.34742048, 0.34739152, 0.34734687, 0.34731093, 0.34731317, 0.34738114, 0.34753558, 0.34778544, 0.34812731, 0.3485465, 0.34902099, 0.34952578, 0.35003695, 0.35053447, 0.35100436, 0.35143876, 0.35183617, 0.35219917, 0.35253248, 0.35283998, 0.35312301, 0.35337934, 0.35360652, 0.35380751, 0.35399568, 0.3541975, 0.35444894, 0.35478699, 0.35523751, 0.35580412, 0.35646448, 0.35717541, 0.35788587, 0.35855088, 0.35914662, 0.35968593, 0.36023372, 0.36091501, 0.36190388, 0.36338645, 0.36550573, 0.3683089, 0.3717199, 0.37555107, 0.37954924, 0.38345599, 0.3870551, 0.39019728, 0.39280373, 0.39485937, 0.39640063, 0.39750051, 0.39825031, 0.39874217, 0.39905408, 0.3992421, 0.39934084, 0.39936972, 0.39934391, 0.3992846, 0.39922446, 0.39920565, 0.39927268, 0.39946413, 0.39980465, 0.40029743, 0.40091819, 0.40161332, 0.40230757, 0.4029291, 0.40345719, 0.40399015, 0.40482661, 0.40654281]
    }]

});

function updateBoard(val) {
    ord = val;
    document.getElementById('3d').src='./media/adam_3d/' + ord + '.jpg';
    document.getElementById('vid').src='./media/adam_video/' + ord + '.jpg';
    chart.update({
        xAxis: {
            plotLines: [{
                color: 'red',
                value: val / 100,
                width: 2 
            }],
        }
    });
}

// scroling watch
var ord = 5;
var wheelEvent = isEventSupported('mousewheel') ? 'mousewheel' : 'wheel';
document.getElementById('board').addEventListener(wheelEvent, function(e) {
    var delta  = e.deltaY || e.wheelDelta;
    if (delta > 0) {
        ord += 5
    } else {
        ord -= 5
    }
    if (ord < 5) {
        ord = 5
    }
    if (ord > 970) {
        ord = 970
    }
    updateBoard(ord)
    document.getElementById('slider').value = ord;
});

document.getElementById('slider').addEventListener('mousemove', function(e) {
    updateBoard(e.target.valueAsNumber)
});
document.getElementById('slider').addEventListener('touchmove', function(e) {
    updateBoard(e.target.valueAsNumber)
});

</script>